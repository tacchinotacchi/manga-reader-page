import{n as ue,T as ne,af as j,c as $,p as T,g as oe,h as ce,A as K,z as ve,V as _e,W,s as R,d as C,e as de,X as x,o as ee,Y as he,ag as Y,l as ae,ah as Ae,t as F,ai as q,aj as J,ak as U,N as Ee,v as Q,al as ge,am as pe,an as Ne,k as Te,ao as be,ap as Ie,aq as Se,a as ke,ar as ye,as as we,at as Ce,au as Le,av as Me}from"./DZs8gjkn.js";import{d as Re,f as He,g as Oe,j as De,n as Ve,k as $e,m as Ye}from"./yXoHkmtp.js";import{t as qe,c as Ue,a as Be}from"./B8kLrR2h.js";function Qe(e,a){return a}function ze(e,a,r,t){for(var u=[],n=a.length,v=0;v<n;v++)Ne(a[v].e,u,!0);var h=n>0&&u.length===0&&r!==null;if(h){var g=r.parentNode;Te(g),g.append(r),t.clear(),y(e,a[0].prev,a[n-1].next)}be(u,()=>{for(var c=0;c<n;c++){var A=a[c];h||(t.delete(A.k),y(e,A.prev,A.next)),Ie(A.e,!h)}})}function Ze(e,a,r,t,u,n=null){var v=e,h={flags:a,items:new Map,first:null},g=(a&j)!==0;if(g){var c=e;v=T?$(oe(c)):c.appendChild(ue())}T&&ce();var A=null,S=!1,o=ve(()=>{var d=r();return ge(d)?d:d==null?[]:ae(d)});ne(()=>{var d=K(o),l=d.length;if(S&&l===0)return;S=l===0;let b=!1;if(T){var p=v.data===_e;p!==(l===0)&&(v=W(),$(v),R(!1),b=!0)}if(T){for(var _=null,N,f=0;f<l;f++){if(C.nodeType===8&&C.data===de){v=C,b=!0,R(!1);break}var s=d[f],i=t(s,f);N=re(C,h,_,null,s,i,f,u,a,r),h.items.set(i,N),_=N}l>0&&$(W())}T||Pe(d,h,v,u,a,t,r),n!==null&&(l===0?A?x(A):A=ee(()=>n(v)):A!==null&&he(A,()=>{A=null})),b&&R(!0),K(o)}),T&&(v=C)}function Pe(e,a,r,t,u,n,v){var B,z,P,X;var h=(u&pe)!==0,g=(u&(q|U))!==0,c=e.length,A=a.items,S=a.first,o=S,d,l=null,b,p=[],_=[],N,f,s,i;if(h)for(i=0;i<c;i+=1)N=e[i],f=n(N,i),s=A.get(f),s!==void 0&&((B=s.a)==null||B.measure(),(b??(b=new Set)).add(s));for(i=0;i<c;i+=1){if(N=e[i],f=n(N,i),s=A.get(f),s===void 0){var k=o?o.e.nodes_start:r;l=re(k,a,l,l===null?a.first:l.next,N,f,i,t,u,v),A.set(f,l),p=[],_=[],o=l.next;continue}if(g&&Xe(s,N,i,u),(s.e.f&Y)!==0&&(x(s.e),h&&((z=s.a)==null||z.unfix(),(b??(b=new Set)).delete(s))),s!==o){if(d!==void 0&&d.has(s)){if(p.length<_.length){var E=_[0],I;l=E.prev;var H=p[0],D=p[p.length-1];for(I=0;I<p.length;I+=1)Z(p[I],E,r);for(I=0;I<_.length;I+=1)d.delete(_[I]);y(a,H.prev,D.next),y(a,l,H),y(a,D,E),o=E,l=D,i-=1,p=[],_=[]}else d.delete(s),Z(s,o,r),y(a,s.prev,s.next),y(a,s,l===null?a.first:l.next),y(a,l,s),l=s;continue}for(p=[],_=[];o!==null&&o.k!==f;)(o.e.f&Y)===0&&(d??(d=new Set)).add(o),_.push(o),o=o.next;if(o===null)continue;s=o}p.push(s),l=s,o=s.next}if(o!==null||d!==void 0){for(var w=d===void 0?[]:ae(d);o!==null;)(o.e.f&Y)===0&&w.push(o),o=o.next;var V=w.length;if(V>0){var te=(u&j)!==0&&c===0?r:null;if(h){for(i=0;i<V;i+=1)(P=w[i].a)==null||P.measure();for(i=0;i<V;i+=1)(X=w[i].a)==null||X.fix()}ze(a,w,te,A)}}h&&Ae(()=>{var G;if(b!==void 0)for(s of b)(G=s.a)==null||G.apply()}),F.first=a.first&&a.first.e,F.last=l&&l.e}function Xe(e,a,r,t){(t&q)!==0&&J(e.v,a),(t&U)!==0?J(e.i,r):e.i=r}function re(e,a,r,t,u,n,v,h,g,c){var A=(g&q)!==0,S=(g&Se)===0,o=A?S?Ee(u):Q(u):u,d=(g&U)===0?v:Q(v),l={i:d,v:o,k:n,a:null,e:null,prev:r,next:t};try{return l.e=ee(()=>h(e,o,d,c),T),l.e.prev=r&&r.e,l.e.next=t&&t.e,r===null?a.first=l:(r.next=l,r.e.next=l.e),t!==null&&(t.prev=l,t.e.prev=l.e),l}finally{}}function Z(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,u=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==t;){var v=ke(n);u.before(n),n=v}}function y(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function Ge(e,a,r,t,u,n){var v=e.__className;if(T||v!==r||v===void 0){var h=qe(r,t,n);(!T||h!==e.getAttribute("class"))&&(h==null?e.removeAttribute("class"):a?e.className=h:e.setAttribute("class",h)),e.__className=r}else if(n&&u!==n)for(var g in n){var c=!!n[g];(u==null||c!==!!u[g])&&e.classList.toggle(g,c)}return n}const L=Symbol("class"),M=Symbol("style"),se=Symbol("is custom element"),ie=Symbol("is html");function me(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;O(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var u=e.checked;O(e,"checked",null),e.checked=u}}};e.__on_r=r,Me(r),Ye()}}function Ke(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function O(e,a,r,t){var u=fe(e);T&&(u[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||u[a]!==(u[a]=r)&&(a==="loading"&&(e[Ce]=r),r==null?e.removeAttribute(a):typeof r!="string"&&le(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function je(e,a,r,t,u=!1){var n=fe(e),v=n[se],h=!n[ie];let g=T&&v;g&&R(!1);var c=a||{},A=e.tagName==="OPTION";for(var S in a)S in r||(r[S]=null);r.class?r.class=Ue(r.class):r[L]&&(r.class=null),r[M]&&(r.style??(r.style=null));var o=le(e);for(const f in r){let s=r[f];if(A&&f==="value"&&s==null){e.value=e.__value="",c[f]=s;continue}if(f==="class"){var d=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ge(e,d,s,t,a==null?void 0:a[L],r[L]),c[f]=s,c[L]=r[L];continue}if(f==="style"){Be(e,s,a==null?void 0:a[M],r[M]),c[f]=s,c[M]=r[M];continue}var l=c[f];if(s!==l){c[f]=s;var b=f[0]+f[1];if(b!=="$$")if(b==="on"){const i={},k="$$"+f;let E=f.slice(2);var p=$e(E);if(Re(E)&&(E=E.slice(0,-7),i.capture=!0),!p&&l){if(s!=null)continue;e.removeEventListener(E,c[k],i),c[k]=null}if(s!=null)if(p)e[`__${E}`]=s,Oe([E]);else{let I=function(H){c[f].call(this,H)};c[k]=He(E,e,I,i)}else p&&(e[`__${E}`]=void 0)}else if(f==="style")O(e,f,s);else if(f==="autofocus")De(e,!!s);else if(!v&&(f==="__value"||f==="value"&&s!=null))e.value=e.__value=s;else if(f==="selected"&&A)Ke(e,s);else{var _=f;h||(_=Ve(_));var N=_==="defaultValue"||_==="defaultChecked";if(s==null&&!v&&!N)if(n[f]=null,_==="value"||_==="checked"){let i=e;const k=a===void 0;if(_==="value"){let E=i.defaultValue;i.removeAttribute(_),i.defaultValue=E,i.value=i.__value=k?E:null}else{let E=i.defaultChecked;i.removeAttribute(_),i.defaultChecked=E,i.checked=k?E:!1}}else e.removeAttribute(f);else N||o.includes(_)&&(v||typeof s!="string")?e[_]=s:typeof s!="function"&&O(e,_,s)}}}return g&&R(!0),c}function fe(e){return e.__attributes??(e.__attributes={[se]:e.nodeName.includes("-"),[ie]:e.namespaceURI===ye})}var m=new Map;function le(e){var a=m.get(e.nodeName);if(a)return a;m.set(e.nodeName,a=[]);for(var r,t=e,u=Element.prototype;u!==t;){r=Le(t);for(var n in r)r[n].set&&a.push(n);t=we(t)}return a}export{je as a,Ze as e,Qe as i,me as r,O as s};
